{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport './VideoLikesList.module.css';\nimport VideoCounter from './VideoLikes/VideoCounter';\nimport GoalsList from './VideoLikes/GoalsList';\nimport { post, del } from '../../libs/ajax';\n\nclass MyGoals extends Component {\n  constructor(props) {\n    super();\n    console.log(props.tasks);\n    this.state = {\n      goals: props.tasks\n    };\n    this.updateGoal = this.updateGoal.bind(this);\n    this.deleteGoal = this.deleteGoal.bind(this);\n    this.changeFilter = this.changeFilter.bind(this);\n  }\n\n  changeFilter(filterValue) {\n    this.setState({\n      filter: filterValue\n    });\n  }\n\n  deleteGoal(goalID) {\n    del('/goalid', {\n      goalID\n    }).then(o => {\n      console.log('lig', o);\n      const newGoalsList = this.state.goals.filter(g => {\n        return g.id !== o.data.id;\n      });\n      this.setState({\n        goals: newGoalsList\n      });\n    });\n  }\n\n  updateGoal(goal) {\n    post('/status', {\n      goal\n    }).then(o => {\n      console.log('log', o);\n      this.state.goals.forEach(g => {\n        if (g.id === o.data.id) {\n          g.isDone = o.data.isDone;\n        }\n      });\n      this.setState({\n        goals: this.state.goals\n      });\n    });\n  }\n\n  render() {\n    let {\n      goals\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"goalsForm\"\n    }, __jsx(GoalsList, {\n      goals: goals,\n      onUpdate: this.updateGoal,\n      onDelete: this.deleteGoal\n    }), __jsx(VideoCounter, {\n      goals: goals\n    }));\n  }\n\n}\n\n;\nexport default MyGoals;","map":{"version":3,"sources":["D:/react_js_test/new_js/youtube_app/components/MyGoals/VideoLikesList.js"],"names":["React","Component","VideoCounter","GoalsList","post","del","MyGoals","constructor","props","console","log","tasks","state","goals","updateGoal","bind","deleteGoal","changeFilter","filterValue","setState","filter","goalID","then","o","newGoalsList","g","id","data","goal","forEach","isDone","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,6BAAP;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,iBAA1B;;AAEA,MAAMC,OAAN,SAAsBL,SAAtB,CAAgC;AAE5BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,KAAlB;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAEL,KAAK,CAACG;AADJ,KAAb;AAIA,SAAKG,UAAL,GAAgB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAhB;AACA,SAAKC,UAAL,GAAgB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAhB;AACA,SAAKE,YAAL,GAAkB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAAlB;AACH;;AAEDE,EAAAA,YAAY,CAACC,WAAD,EAAa;AACrB,SAAKC,QAAL,CAAc;AAACC,MAAAA,MAAM,EAACF;AAAR,KAAd;AACH;;AAGDF,EAAAA,UAAU,CAACK,MAAD,EAAS;AACfhB,IAAAA,GAAG,CAAC,SAAD,EAAY;AAACgB,MAAAA;AAAD,KAAZ,CAAH,CAAyBC,IAAzB,CAA8BC,CAAC,IAAI;AAC/Bd,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBa,CAAnB;AACA,YAAMC,YAAY,GAAG,KAAKZ,KAAL,CAAWC,KAAX,CAAiBO,MAAjB,CAAyBK,CAAD,IAAO;AAChD,eAAOA,CAAC,CAACC,EAAF,KAASH,CAAC,CAACI,IAAF,CAAOD,EAAvB;AACH,OAFoB,CAArB;AAIA,WAAKP,QAAL,CAAc;AAACN,QAAAA,KAAK,EAAEW;AAAR,OAAd;AACH,KAPD;AAQH;;AAEDV,EAAAA,UAAU,CAACc,IAAD,EAAM;AACZxB,IAAAA,IAAI,CAAC,SAAD,EAAY;AAAEwB,MAAAA;AAAF,KAAZ,CAAJ,CACCN,IADD,CACMC,CAAC,IAAG;AACNd,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBa,CAAnB;AACA,WAAKX,KAAL,CAAWC,KAAX,CAAiBgB,OAAjB,CAA0BJ,CAAD,IAAK;AAC1B,YAAGA,CAAC,CAACC,EAAF,KAASH,CAAC,CAACI,IAAF,CAAOD,EAAnB,EAAuB;AACnBD,UAAAA,CAAC,CAACK,MAAF,GAAWP,CAAC,CAACI,IAAF,CAAOG,MAAlB;AACH;AACJ,OAJD;AAKA,WAAKX,QAAL,CAAc;AAACN,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC;AAAnB,OAAd;AACH,KATD;AAUH;;AAEDkB,EAAAA,MAAM,GAAG;AACL,QAAI;AAAElB,MAAAA;AAAF,QAAW,KAAKD,KAApB;AAEA,WACI;AAAK,MAAA,SAAS,EAAC;AAAf,OACI,MAAC,SAAD;AAAW,MAAA,KAAK,EAAEC,KAAlB;AACA,MAAA,QAAQ,EAAE,KAAKC,UADf;AAEA,MAAA,QAAQ,EAAE,KAAKE;AAFf,MADJ,EAKI,MAAC,YAAD;AAAc,MAAA,KAAK,EAAEH;AAArB,MALJ,CADJ;AAQH;;AAtD2B;;AAuD/B;AACD,eAAeP,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport './VideoLikesList.module.css';\nimport VideoCounter from './VideoLikes/VideoCounter';\nimport GoalsList from './VideoLikes/GoalsList';\nimport { post, del } from '../../libs/ajax';\n\nclass MyGoals extends Component {\n\n    constructor(props) {\n        super();\n        console.log(props.tasks)\n        this.state = {\n            goals: props.tasks     \n        };\n\n        this.updateGoal=this.updateGoal.bind(this);\n        this.deleteGoal=this.deleteGoal.bind(this);\n        this.changeFilter=this.changeFilter.bind(this);\n    }\n\n    changeFilter(filterValue){\n        this.setState({filter:filterValue})\n    }\n\n\n    deleteGoal(goalID) {\n        del('/goalid', {goalID}).then(o => {\n            console.log('lig', o);\n            const newGoalsList = this.state.goals.filter((g) => {\n                return g.id !== o.data.id;\n            });\n            \n            this.setState({goals: newGoalsList});\n        });\n    }\n\n    updateGoal(goal){\n        post('/status', { goal })\n        .then(o=> {\n            console.log('log', o);\n            this.state.goals.forEach((g)=>{\n                if(g.id === o.data.id) {\n                    g.isDone = o.data.isDone;\n                } \n            });\n            this.setState({goals: this.state.goals});\n        });\n    }\n\n    render() {\n        let { goals} = this.state;\n\n        return (\n            <div className=\"goalsForm\">\n                <GoalsList goals={goals} \n                onUpdate={this.updateGoal}\n                onDelete={this.deleteGoal}\n                />\n                <VideoCounter goals={goals}  />   \n            </div>);\n    }\n};\nexport default MyGoals;\n"]},"metadata":{},"sourceType":"module"}