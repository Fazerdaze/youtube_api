{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport './VideoLikesList.module.css';\nimport VideoCounter from './VideoLikes/VideoCounter';\nimport GoalsList from './VideoLikes/GoalsList';\nimport { post, del } from '../../libs/ajax';\n\nvar MyGoals =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyGoals, _Component);\n\n  function MyGoals(props) {\n    var _this;\n\n    _classCallCheck(this, MyGoals);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyGoals).call(this));\n    console.log(props.tasks);\n    _this.state = {\n      goals: props.tasks\n    };\n    _this.updateGoal = _this.updateGoal.bind(_assertThisInitialized(_this));\n    _this.deleteGoal = _this.deleteGoal.bind(_assertThisInitialized(_this));\n    _this.changeFilter = _this.changeFilter.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MyGoals, [{\n    key: \"changeFilter\",\n    value: function changeFilter(filterValue) {\n      this.setState({\n        filter: filterValue\n      });\n    }\n  }, {\n    key: \"deleteGoal\",\n    value: function deleteGoal(goalID) {\n      var _this2 = this;\n\n      del('/goalid', {\n        goalID: goalID\n      }).then(function (o) {\n        console.log('lig', o);\n\n        var newGoalsList = _this2.state.goals.filter(function (g) {\n          return g.id !== o.data.id;\n        });\n\n        _this2.setState({\n          goals: newGoalsList\n        });\n      });\n    }\n  }, {\n    key: \"updateGoal\",\n    value: function updateGoal(goal) {\n      var _this3 = this;\n\n      post('/status', {\n        goal: goal\n      }).then(function (o) {\n        console.log('log', o);\n\n        _this3.state.goals.forEach(function (g) {\n          if (g.id === o.data.id) {\n            g.isDone = o.data.isDone;\n          }\n        });\n\n        _this3.setState({\n          goals: _this3.state.goals\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var goals = this.state.goals;\n      return __jsx(\"div\", {\n        className: \"goalsForm\"\n      }, __jsx(GoalsList, {\n        goals: goals,\n        onUpdate: this.updateGoal,\n        onDelete: this.deleteGoal\n      }), __jsx(VideoCounter, {\n        goals: goals\n      }));\n    }\n  }]);\n\n  return MyGoals;\n}(Component);\n\n;\nexport default MyGoals;","map":{"version":3,"sources":["D:/react_js_test/new_js/youtube_app/components/MyGoals/VideoLikesList.js"],"names":["React","Component","VideoCounter","GoalsList","post","del","MyGoals","props","console","log","tasks","state","goals","updateGoal","bind","deleteGoal","changeFilter","filterValue","setState","filter","goalID","then","o","newGoalsList","g","id","data","goal","forEach","isDone"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,6BAAP;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,iBAA1B;;IAEMC,O;;;;;AAEF,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,KAAlB;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAEL,KAAK,CAACG;AADJ,KAAb;AAIA,UAAKG,UAAL,GAAgB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAhB;AACA,UAAKC,UAAL,GAAgB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAhB;AACA,UAAKE,YAAL,GAAkB,MAAKA,YAAL,CAAkBF,IAAlB,+BAAlB;AATe;AAUlB;;;;iCAEYG,W,EAAY;AACrB,WAAKC,QAAL,CAAc;AAACC,QAAAA,MAAM,EAACF;AAAR,OAAd;AACH;;;+BAGUG,M,EAAQ;AAAA;;AACff,MAAAA,GAAG,CAAC,SAAD,EAAY;AAACe,QAAAA,MAAM,EAANA;AAAD,OAAZ,CAAH,CAAyBC,IAAzB,CAA8B,UAAAC,CAAC,EAAI;AAC/Bd,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBa,CAAnB;;AACA,YAAMC,YAAY,GAAG,MAAI,CAACZ,KAAL,CAAWC,KAAX,CAAiBO,MAAjB,CAAwB,UAACK,CAAD,EAAO;AAChD,iBAAOA,CAAC,CAACC,EAAF,KAASH,CAAC,CAACI,IAAF,CAAOD,EAAvB;AACH,SAFoB,CAArB;;AAIA,QAAA,MAAI,CAACP,QAAL,CAAc;AAACN,UAAAA,KAAK,EAAEW;AAAR,SAAd;AACH,OAPD;AAQH;;;+BAEUI,I,EAAK;AAAA;;AACZvB,MAAAA,IAAI,CAAC,SAAD,EAAY;AAAEuB,QAAAA,IAAI,EAAJA;AAAF,OAAZ,CAAJ,CACCN,IADD,CACM,UAAAC,CAAC,EAAG;AACNd,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBa,CAAnB;;AACA,QAAA,MAAI,CAACX,KAAL,CAAWC,KAAX,CAAiBgB,OAAjB,CAAyB,UAACJ,CAAD,EAAK;AAC1B,cAAGA,CAAC,CAACC,EAAF,KAASH,CAAC,CAACI,IAAF,CAAOD,EAAnB,EAAuB;AACnBD,YAAAA,CAAC,CAACK,MAAF,GAAWP,CAAC,CAACI,IAAF,CAAOG,MAAlB;AACH;AACJ,SAJD;;AAKA,QAAA,MAAI,CAACX,QAAL,CAAc;AAACN,UAAAA,KAAK,EAAE,MAAI,CAACD,KAAL,CAAWC;AAAnB,SAAd;AACH,OATD;AAUH;;;6BAEQ;AAAA,UACCA,KADD,GACU,KAAKD,KADf,CACCC,KADD;AAGL,aACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,MAAC,SAAD;AAAW,QAAA,KAAK,EAAEA,KAAlB;AACA,QAAA,QAAQ,EAAE,KAAKC,UADf;AAEA,QAAA,QAAQ,EAAE,KAAKE;AAFf,QADJ,EAKI,MAAC,YAAD;AAAc,QAAA,KAAK,EAAEH;AAArB,QALJ,CADJ;AAQH;;;;EAtDiBX,S;;AAuDrB;AACD,eAAeK,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport './VideoLikesList.module.css';\nimport VideoCounter from './VideoLikes/VideoCounter';\nimport GoalsList from './VideoLikes/GoalsList';\nimport { post, del } from '../../libs/ajax';\n\nclass MyGoals extends Component {\n\n    constructor(props) {\n        super();\n        console.log(props.tasks)\n        this.state = {\n            goals: props.tasks     \n        };\n\n        this.updateGoal=this.updateGoal.bind(this);\n        this.deleteGoal=this.deleteGoal.bind(this);\n        this.changeFilter=this.changeFilter.bind(this);\n    }\n\n    changeFilter(filterValue){\n        this.setState({filter:filterValue})\n    }\n\n\n    deleteGoal(goalID) {\n        del('/goalid', {goalID}).then(o => {\n            console.log('lig', o);\n            const newGoalsList = this.state.goals.filter((g) => {\n                return g.id !== o.data.id;\n            });\n            \n            this.setState({goals: newGoalsList});\n        });\n    }\n\n    updateGoal(goal){\n        post('/status', { goal })\n        .then(o=> {\n            console.log('log', o);\n            this.state.goals.forEach((g)=>{\n                if(g.id === o.data.id) {\n                    g.isDone = o.data.isDone;\n                } \n            });\n            this.setState({goals: this.state.goals});\n        });\n    }\n\n    render() {\n        let { goals} = this.state;\n\n        return (\n            <div className=\"goalsForm\">\n                <GoalsList goals={goals} \n                onUpdate={this.updateGoal}\n                onDelete={this.deleteGoal}\n                />\n                <VideoCounter goals={goals}  />   \n            </div>);\n    }\n};\nexport default MyGoals;\n"]},"metadata":{},"sourceType":"module"}